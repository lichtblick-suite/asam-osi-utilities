<!--
SPDX-FileCopyrightText: Copyright (c) 2026, Bayerische Motoren Werke Aktiengesellschaft (BMW AG)
SPDX-License-Identifier: MPL-2.0
-->

# Developer Workflow

This page contains day-to-day commands. For environment setup, see [Development Setup](setup.md).

## Update Repository

```bash
git pull --recurse-submodules
# If needed:
git submodule update --init --recursive
```

## Build and Test

**vcpkg preset:**

```bash
cmake --preset vcpkg
cmake --build --preset vcpkg --parallel
ctest --test-dir build-vcpkg --output-on-failure
```

Notes:

- On Windows, prefer `vcpkg-windows-static-md` for static libraries with dynamic MSVC runtime.
- Tests are opt-in. Configure with `-DBUILD_TESTING=ON` and ensure GTest is available (for vcpkg: set `VCPKG_MANIFEST_FEATURES=tests`).

## Format and Lint

Use the hooks generated by the setup script:

```bash
.git/hooks/pre-commit
.git/hooks/pre-commit --run-tidy
.git/hooks/pre-commit --fix-format
.git/hooks/pre-commit --fix-tidy
.git/hooks/pre-commit --all-files --run-tidy --fix-format --fix-tidy
.git/hooks/pre-commit --all-files --skip-tests
.git/hooks/pre-commit --skip-format
.git/hooks/pre-commit --skip-tidy
```

Notes:

- clang-tidy is opt-in. Use `--run-tidy` (or `--fix-tidy`) to enable it.
- It requires `build/compile_commands.json` (generated by the build).

## Commit

```bash
git commit -S -s -m "feat: short description"
```
